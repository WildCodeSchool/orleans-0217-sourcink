<?xml version="1.0" encoding="UTF-8"?>
<project name="Sourcink" default="ci" basedir=".">
    <property name="source" value="src" />

    <target name="ci"
        description="Tâche principale d'intégration continue"
        depends="clean,qa"
    />

    <target name="clean" description="Vide les répertoires d'artefacts">
        <delete dir="${project.basedir}/build/logs" />

        <mkdir dir="${project.basedir}/build/logs" />
    </target>

    <target name="qa" description="Lance les outils d'analyse">
        <phingcall target="phpcs" />
    </target>

    <target name="phpcs">
        <exec command="phpcs --standard=PSR2 --report=checkstyle src/" logoutput="true" output="build/logs/checkstyle.xml" />
    </target>
</project>
